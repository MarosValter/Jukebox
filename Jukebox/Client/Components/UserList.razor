@using Jukebox.Shared.Player

@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@inject IState<Jukebox.Shared.Store.States.RoomState> State

<MatList>
    @if (State.Value != null)
    {
        foreach (var (user, i) in State.Value.Users.Select((user, index) => (user, index)))
        {
            <MatListItem Disabled="@(user.ConnectionId == State.Value.CurrentUser?.ConnectionId)">
                <MatListItemText>
                    <MatListItemPrimaryText>@user.Name</MatListItemPrimaryText>
                </MatListItemText>
            </MatListItem>
            if (i < State.Value.Users.Count - 1)
            {
                <MatDivider></MatDivider>
            }
        }
    }
</MatList>
